Microsoft (R) Macro Assembler Version 14.29.30136.0	    12/03/21 19:12:34
atoi.asm						     Page 1 - 1


				.386P
				.model flat

				extern _ExitProcess@4: near
				extern _GetStdHandle@4: near
				extern _WriteConsoleA@20: near
				extern _ReadConsoleA@20: near

 00000000			.DATA

 00000000			.CODE

 00000000			atoi PROC near
 00000000			_atoi:

 00000000  55				push	ebp
 00000001  8B EC			mov		ebp,	esp
 00000003  8B 5D 0C			mov		ebx,	[ebp+12]
 00000006  8B CB			mov		ecx,	ebx


 00000008			_endOfStringLoop:

 00000008  8A 03			mov		al,	[ebx]					; find contents of ebx
 0000000A  83 C3 01			add		ebx, 1
 0000000D  3C 0D			cmp		al,	0dh						; compare to see if al contains 0
 0000000F  75 F7			jne		_endOfStringLoop			; jump if not equal to 0, end of loop
 00000011  83 EB 02			sub		ebx,	2					;subtract 1 from ebx/decrement as you go

 00000014  8B FB			mov		edi, ebx
 00000016  BE 00000001			mov		esi, 1
 0000001B  B8 00000000			mov		eax, 0
 00000020  BB 00000000			mov		ebx, 0
 00000025  BA 00000000			mov		edx, 0
					mov		accumulator, 0
atoi.asm(35) : error A2006:undefined symbol : accumulator

 00000035			_convertLoop:
 00000035  8A 1F			mov		bl, [edi]															;exception thrown at 0x007710D5		;change to ebx
 00000037  80 EB 30			sub		bl,	30h	
 0000003A  8B C3			mov		eax, ebx
 0000003C  F7 E6			mul		esi
					mov     edx, accumulator
atoi.asm(42) : error A2006:undefined symbol : accumulator
 0000003E  03 D0			add		edx, eax
					mov     accumulator, edx
atoi.asm(44) : error A2006:undefined symbol : accumulator
 00000040  B8 0000000A			mov		eax, 10
 00000045  F7 E6			mul		esi 				;destination is eax
 00000047  8B F0			mov		esi, eax
 00000049  4F				dec     edi
 0000004A  3B F9			cmp     edi, ecx
 0000004C  7D E7			jge     _convertLoop

					mov		eax, accumulator
atoi.asm(52) : error A2006:undefined symbol : accumulator
 0000004E  8B 55 08			mov		edx, [ebp+8]
 00000051  89 02			mov		[edx], eax
 00000053  5D				pop		ebp
 00000054  C2 0008			ret		8
					
 00000057			atoi ENDP

				END
Microsoft (R) Macro Assembler Version 14.29.30136.0	    12/03/21 19:12:34
atoi.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	32 Bit	 00000000 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00000078 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

atoi . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000078 Public
  _atoi  . . . . . . . . . . . .	L Near	 00000000 _TEXT	
  _endOfStringLoop . . . . . . .	L Near	 00000008 _TEXT	
  _convertLoop . . . . . . . . .	L Near	 00000035 _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000000h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
_ExitProcess@4 . . . . . . . . .	L Near	 00000000 FLAT	External
_GetStdHandle@4  . . . . . . . .	L Near	 00000000 FLAT	External
_ReadConsoleA@20 . . . . . . . .	L Near	 00000000 FLAT	External
_WriteConsoleA@20  . . . . . . .	L Near	 00000000 FLAT	External

	   0 Warnings
	   4 Errors
